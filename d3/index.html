<!DOCTYPE html>
<html>

<head>
    <!-- <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script> -->
    <script type="text/javascript" src="api/d3.v4.min.js"></script>
</head>

<body>
    <div id="viz"></div>
    <div id="binding"></div>
    <script type="text/javascript">

        animation();
        bindingData();

        function animation() {
            let sampleSVG = d3.select("#viz")
                .append("svg")
                .attr("width", 100)
                .attr("height", 100);

            sampleSVG.append("circle")
                .style("stroke", "gray")
                .style("fill", "white")
                .attr("r", 40)
                .attr("cx", 50)
                .attr("cy", 50)
                .on("mouseover", function () { d3.select(this).style("fill", "black"); }) // aliceblue
                .on("mouseout", function () { d3.select(this).style("fill", "white"); })
                .on("mousedown", animateFirstStep);

            function animate() {
                d3.select(this).transition()
                    .duration(1000)
                    .attr("r", 10)
                    .transition()
                    .delay(1000)
                    .attr("r", 40);
            };

            function animateFirstStep() {
                d3.select(this)
                    .transition()
                    .delay(0)
                    .duration(1000)
                    .attr("r", 10)
                    .each("end", animateSecondStep);
            };

            function animateSecondStep() {
                d3.select(this)
                    .transition()
                    .duration(1000)
                    .attr("r", 40);
            };
        };

        function bindingData() {
            let dataset = [];
            var i = 0;

            for (i = 0; i < 5; i++) {
                dataset.push(Math.round(Math.random() * 100));
            }

            let bindingDataSVG = d3.select("#binding")
                .append("svg")
                .attr("width", 400)
                .attr("height", 75);

            bindingDataSVG.selectAll("circle")
                .data(dataset)
                .enter().append("circle")
                .style("stroke", "gray")
                .style("fill", "white")
                .attr("height", 40)
                .attr("width", 75)
                .attr("x", function (d, i) { return i * 80 })
                .attr("y", 20);
        };

    </script>
</body>

</html>